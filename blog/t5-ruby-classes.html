<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
	<head>
		<link href="../stylesheet.css"; rel="stylesheet"; type="text/css"/>
		<title></title>
	</head>
<body>
<div class="navbarwrap">
<div class="navbar">
<a href="../index.html"><div class="entry">HOME</div></a><a href="../blog/index.html"><div class="entry">BLOG</div></a><a href="#"><div class="entry">PROJECTS</div></a><a href="../DBC/gps1-2.html"><div class="entry">DBC PAGES</div></a><a href="#"><div class="entry">ABOUT ME</div></a>
</div>
</div>
<div class="middlewrap">
	<div class="blogentry">
		<div class="blogtitle">A card deck built in Ruby</div>
		<div>Making use of Ruby classes and instance variables</div>
		<div class="blogdate">November 28th, 2014</div>
		<div class="blogdescription">
			<p>In this blog post, I will guide you through my code that models a card deck. You can find the full code right <a href="http://pastebin.com/nSg1TJ8j">here</a>. I don't have a good tool yet on my page to display large blocks of code, so I'm not going to paste it all in here. I will be referring to this page during the blog.</p>

			<p>I wanted to create an object that functions like a card deck. That is a rather vague statement, so let's specify it a little. An ordinary card deck contains 52 cards: 13 spades, diamonds, clubs and hearts. I wanted it to be able to do three things. Firstly, you should be able to draw a card, and of course, this card shouldn't be available thereafter. Secondly, drawing for example a hearts should decrease the chance of that type being drawn in upcoming turns. That is to say, a probability distribution should be implemented. Lastly, when all cards are drawn (or even before that point), it should be able to restart the game by putting back all the cards in the deck.</p>

			<p>The core structure of the class consists of four methods: initialize, restart, draw and cardtype_selector. The first method will ensure that upon creation of the class, there will be two hashes: @clean_deck and @play_deck. The latter is used in the rest of the class, the former is just there for the purpose of restarting the game.</p>

			<p>Restarting the game is done by calling the #restart method on the cardgame object. All it does it just overwriting the deck that has been used (@play_deck) with the original, untouched @clean_deck.</p>

			<p>Moving on to the next method, we've got #draw. First, on line 22, the method ensures that its not dealing with an empty deck, which would raise some errors in the following code block. Then, #cardtype_selector is called, which sets the variable @type to either "Hearts", "Spades", "Cluds" and "Diamonds". I will get back to this method in a bit. Then, on line 26 a card is selected from the category that was selected, outputted on line 27, and deleted from the deck.</p>

			<p>The assignment of @type should be probabilistic. That is to say: the amount of cards within each category should function as a weight during the selection. I will demonstrate the implementation of this weight with an example. Assume we want to pick either A, B or C. If their weight were equal, we could randomly select one element from the following array:
			<p class="code">["A", "B", "C"]</p>
			but if A would have a higher probability, the array could look like
			<p class="code">["A", "A", "A", "B", "C"].</p>
			In my code, the frequency of "Hearts", "Spades", "Cluds" and "Diamonds" in probability_array is determined by counting the remaining cards in each category, as shown in line 34 to line 40.</p>

			<p>Try the code for your self! Call #draw and #restart on a newly created CardGame object. You can also add
			<p class="code">attr_reader :play_deck<p>
			to the beginning of the class. Then, by calling #play_deck on your the object, you can peek in the deck to see which cards have been deleted. Some would consider peeking as cheating, but in this model, there is no fixed order as there is when you shuffle a real card deck. In that regard, the #draw method is actually equivalent to first reshuffling the deck before picking a card!</p>

			<p>Game on!</p>
		</div>
		<div class="readmore"><a href="./index.html">Go back</a></div>
	</div>
</div>
<div class="footerwrap">
<div class="footer">
<div class="footerentry">Blah Blah Some Copyright Thingy</div>
</div>
</div>
</body>
</html>


